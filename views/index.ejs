<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./style.css">
    <title>Home</title>
  </head>
<body>
<h1><%= title %></h1>

<a href="/users/create">Create a user</a>

<ul>
  <% if (locals.users.length > 0) {%>

<%- include("./partials/searchForm.ejs", {title: "Search form"}); %>

    <% users.forEach(user => { %>
        <li class="userEntry">
          <div class="entryCell">
            <p>ID:</p>
            <p><%= user.id %></p>
          </div>

          <div class="entryCell">
            <p>Name:</p>
            <p><%= user.firstName %> <%= user.lastName %></p>
          </div>

          <div class="entryCell">
            <p>Email:</p>
            <p><%= user.email %></p>
          </div>

          <div class="entryCell">
            <p>Age:</p>
            <p><%= user.age %></p>
          </div>

          <div class="entryCell">
            <p>Bio:</p>
            <p><%= user.bio %></p>
          </div>
            <a href="/users/<%= user.id %>/update">Update</a>
         <!-- This time we're sending a POST request to our route, so we need a form. -->
    <form action="/users/<%= user.id %>/delete" method="POST" style="display:inline;">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this user?');">Delete</button>
      </form>
          </li>
              <% }); %>
  <% } else { %>
<div>Currently no users. Add one!</div>
<% } %>

</ul>
</body>
</html>
